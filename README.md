# 需求目标：单张2寸照片加入信息变成4张一版的图片

## 单个程序逻辑很简单
* 遍历目标文件夹下所有目标文件，存到数组中
* 从数据库中拿到所有的目标文件相应信息，存到数组中
* 根据目标文件相应的信息，在当前脚本文件的同级目录中建立文件夹存放图片处理结果
* gd库中的图片处理函数写的图片处理逻辑

## 图片处理文件说明：
- 使用三个真彩画布,运行过程中不销毁，重复利用
- 将单个照片按照指定位置粘贴
- 将照片信息按照指定位置画写
 
## 项目文件说明
* main.php 入口文件 里面负责配置进程数量
* worker.php 子进程文件，实例化stduent对象，按照指定参数来运行
* Student.php 分块处理信息
* ImageProducer.php 图片合成器
* function.php 依赖函数文件
* frame.php 运行流程框架文件
* config.php 配置文件

## 使用说明：cli模式下键入`php main.php` 即可
- 生成的结果文件会存放在 `main.php` 同级目录下的 `result` 文件夹中
- 为图片增加附加信息，入口执行 `php tag.php`即可，需要在 tag.php 中指定文件路径

## 附：
- 新增了内存共享的模式来共享进程间数据，在config中进行配置。
  文件IO共享/内存share memory(非必要，纯粹是玩一下的)
- 需要开启 exif fileinfo shmop 扩展 安装gd库 
- 配置文件中建议进程数量不要超过cpu数量
- 本程序目前只是在windows机器上运行，大小写敏感和中文字符
均遵循win系统特性